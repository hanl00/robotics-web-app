{"version":3,"sources":["webpack:///../node_modules/@theia/filesystem/src/common/filesystem-utils.ts","webpack:///../node_modules/@theia/filesystem/src/common/index.ts","webpack:///../switch-workspace/src/browser/switch-workspace-contribution.ts","webpack:///../switch-workspace/src/browser/switch-workspace-frontend-module.ts"],"names":[],"mappings":"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","file":"66.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { FileStat } from './filesystem';\nimport URI from '@theia/core/lib/common/uri';\nimport { Path } from '@theia/core/lib/common';\n\nexport namespace FileSystemUtils {\n\n    /**\n     * Tildify path, replacing `home` with `~` if user's `home` is present at the beginning of the path.\n     * This is a non-operation for Windows.\n     *\n     * @param resourcePath\n     * @param home\n     */\n    export function tildifyPath(resourcePath: string, home: string): string {\n        const path = new Path(resourcePath);\n        const isWindows = path.root && Path.isDrive(path.root.base);\n\n        if (!isWindows && home && resourcePath.indexOf(`${home}/`) === 0) {\n            return resourcePath.replace(`${home}/`, '~/');\n        }\n\n        return resourcePath;\n    }\n\n    /**\n     * Generate unique URI for a given parent which does not collide\n     *\n     * @param parentUri the `URI` of the parent\n     * @param parent the `FileStat` of the parent\n     * @param name the resource name\n     * @param ext the resource extension\n     */\n    export function generateUniqueResourceURI(parentUri: URI, parent: FileStat, name: string, ext: string = ''): URI {\n        const children = !parent.children ? [] : parent.children!.map(child => new URI(child.uri));\n\n        let index = 1;\n        let base = name + ext;\n        while (children.some(child => child.path.base === base)) {\n            index = index + 1;\n            base = name + '_' + index + ext;\n        }\n        return parentUri.resolve(base);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './filesystem';\nexport * from './filesystem-utils';\n","import { injectable, inject } from \"inversify\";\nimport { CommandContribution, CommandRegistry, MenuContribution, MenuModelRegistry, MessageService } from \"@theia/core/lib/common\";\nimport { FrontendApplication, FrontendApplicationContribution } from \"@theia/core/lib/browser/frontend-application\";\nimport { WorkspaceService } from \"@theia/workspace/lib/browser/workspace-service\";\nimport { FileSystem }  from '@theia/filesystem/lib/common'\nimport { CommonMenus } from \"@theia/core/lib/browser\";\nimport URI from '@theia/core/lib/common/uri';\nimport { ConfirmDialog } from '@theia/core/lib/browser/dialogs';\n\nexport const SwitchWorkspaceCommand = {\n    id: 'SwitchWorkspace.command',\n    label: \"Shows a message\"\n};\n\n@injectable()\nexport class SwitchWorkspaceCommandContribution implements CommandContribution {\n\n    constructor(\n        @inject(MessageService) private readonly messageService: MessageService,\n    ) { }\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(SwitchWorkspaceCommand, {\n            execute: () => this.messageService.info('Hello World!')\n        });\n    }\n}\n\n@injectable()\nexport class SwitchWorkspaceMenuContribution implements MenuContribution {\n\n    registerMenus(menus: MenuModelRegistry): void {\n        menus.registerMenuAction(CommonMenus.EDIT_FIND, {\n            commandId: SwitchWorkspaceCommand.id,\n            label: 'Say Hello'\n        });\n    }\n}\n\n@injectable()\nexport class SwitchWorkspaceFrontendContribution implements FrontendApplicationContribution {\n    constructor(\n        @inject(FileSystem) protected readonly fileSystem: FileSystem,\n        @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService,\n    ) { }\n\n    protected async switchWorkspace(event: any): Promise<void> {\n        const dialog = new ConfirmDialog({\n            title: 'Switch Workspace',\n            msg: 'Please ensure that you have saved your current progress before switching.'\n        });\n        if (await dialog.open()) {\n            await this.workspaceService.close();\n            await this.workspaceService.open(new URI(event.data));\n        }\n    }\n    \n    protected callback(event : any): void {\n        try {\n            if ( event.data.startsWith('setImmediate') ) {\n                return;\n            }\n            alert(\"switching workspace to \" + event.data);\n            this.switchWorkspace(event);\n          } catch (e) {\n            console.log(e)\n          }\t  \n    }\n    \n    onStart(app: FrontendApplication): void {\n        alert(\"test\");\n        window.addEventListener(\"message\", event => this.callback(event), false);\n        alert(\"completed\");\n    }\n}\n\n","/**\n * Generated using theia-extension-generator\n */\n\nimport { SwitchWorkspaceCommandContribution, SwitchWorkspaceMenuContribution, SwitchWorkspaceFrontendContribution } from './switch-workspace-contribution';\nimport {\n    CommandContribution,\n    MenuContribution,\n} from \"@theia/core/lib/common\";\n\nimport { FrontendApplicationContribution } from \"@theia/core/lib/browser/frontend-application\";\n\nimport { ContainerModule } from \"inversify\";\n\nexport default new ContainerModule(bind => {\n    // add your contribution bindings here\n    \n    bind(CommandContribution).to(SwitchWorkspaceCommandContribution);\n    bind(MenuContribution).to(SwitchWorkspaceMenuContribution);\n    bind(FrontendApplicationContribution).to(SwitchWorkspaceFrontendContribution);\n    \n});\n"],"sourceRoot":""}